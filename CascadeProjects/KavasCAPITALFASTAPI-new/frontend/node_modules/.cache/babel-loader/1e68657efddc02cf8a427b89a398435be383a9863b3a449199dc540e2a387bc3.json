{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000/api/v1';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add request interceptor to add auth token\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('kite_access_token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nexport const optionsApi = {\n  async getOptionChain(symbol, expiry) {\n    try {\n      const response = await api.get(`/options/chain/${symbol}`, {\n        params: {\n          expiry\n        }\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response;\n      if (axios.isAxiosError(error) && ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        throw new Error('Please check your access token in settings');\n      }\n      throw error;\n    }\n  },\n  async getExpiryDates(symbol) {\n    try {\n      const response = await api.get(`/options/expiry-dates/${symbol}`);\n      return response.data;\n    } catch (error) {\n      var _error$response2;\n      if (axios.isAxiosError(error) && ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 401) {\n        throw new Error('Please check your access token in settings');\n      }\n      throw error;\n    }\n  },\n  async getStrikes(symbol, expiry) {\n    try {\n      const response = await api.get(`/options/strikes/${symbol}`, {\n        params: {\n          expiry\n        }\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response3;\n      if (axios.isAxiosError(error) && ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401) {\n        throw new Error('Please check your access token in settings');\n      }\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["axios","BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","optionsApi","getOptionChain","symbol","expiry","response","get","params","data","error","_error$response","isAxiosError","status","Error","getExpiryDates","_error$response2","getStrikes","_error$response3"],"sources":["C:/Users/inder/CascadeProjects/KavasCAPITALFASTAPI-new/frontend/src/services/api/optionsApi.ts"],"sourcesContent":["import axios from 'axios';\nimport { OptionChain } from '../../types/options';\n\nconst BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000/api/v1';\n\n// Create axios instance with default config\nconst api = axios.create({\n    baseURL: BASE_URL,\n    headers: {\n        'Content-Type': 'application/json',\n    },\n});\n\n// Add request interceptor to add auth token\napi.interceptors.request.use((config) => {\n    const token = localStorage.getItem('kite_access_token');\n    if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n});\n\nexport const optionsApi = {\n    async getOptionChain(symbol: string, expiry?: string): Promise<OptionChain> {\n        try {\n            const response = await api.get(`/options/chain/${symbol}`, {\n                params: { expiry }\n            });\n            return response.data;\n        } catch (error) {\n            if (axios.isAxiosError(error) && error.response?.status === 401) {\n                throw new Error('Please check your access token in settings');\n            }\n            throw error;\n        }\n    },\n\n    async getExpiryDates(symbol: string): Promise<string[]> {\n        try {\n            const response = await api.get(`/options/expiry-dates/${symbol}`);\n            return response.data;\n        } catch (error) {\n            if (axios.isAxiosError(error) && error.response?.status === 401) {\n                throw new Error('Please check your access token in settings');\n            }\n            throw error;\n        }\n    },\n\n    async getStrikes(symbol: string, expiry: string): Promise<number[]> {\n        try {\n            const response = await api.get(`/options/strikes/${symbol}`, {\n                params: { expiry }\n            });\n            return response.data;\n        } catch (error) {\n            if (axios.isAxiosError(error) && error.response?.status === 401) {\n                throw new Error('Please check your access token in settings');\n            }\n            throw error;\n        }\n    }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,8BAA8B;;AAEhF;AACA,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EACrBC,OAAO,EAAEN,QAAQ;EACjBO,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;;AAEF;AACAH,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACrC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC;EACvD,IAAIF,KAAK,EAAE;IACPD,MAAM,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,KAAK,EAAE;EACpD;EACA,OAAOD,MAAM;AACjB,CAAC,CAAC;AAEF,OAAO,MAAMK,UAAU,GAAG;EACtB,MAAMC,cAAcA,CAACC,MAAc,EAAEC,MAAe,EAAwB;IACxE,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMhB,GAAG,CAACiB,GAAG,CAAC,kBAAkBH,MAAM,EAAE,EAAE;QACvDI,MAAM,EAAE;UAAEH;QAAO;MACrB,CAAC,CAAC;MACF,OAAOC,QAAQ,CAACG,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MAAA,IAAAC,eAAA;MACZ,IAAI1B,KAAK,CAAC2B,YAAY,CAACF,KAAK,CAAC,IAAI,EAAAC,eAAA,GAAAD,KAAK,CAACJ,QAAQ,cAAAK,eAAA,uBAAdA,eAAA,CAAgBE,MAAM,MAAK,GAAG,EAAE;QAC7D,MAAM,IAAIC,KAAK,CAAC,4CAA4C,CAAC;MACjE;MACA,MAAMJ,KAAK;IACf;EACJ,CAAC;EAED,MAAMK,cAAcA,CAACX,MAAc,EAAqB;IACpD,IAAI;MACA,MAAME,QAAQ,GAAG,MAAMhB,GAAG,CAACiB,GAAG,CAAC,yBAAyBH,MAAM,EAAE,CAAC;MACjE,OAAOE,QAAQ,CAACG,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MAAA,IAAAM,gBAAA;MACZ,IAAI/B,KAAK,CAAC2B,YAAY,CAACF,KAAK,CAAC,IAAI,EAAAM,gBAAA,GAAAN,KAAK,CAACJ,QAAQ,cAAAU,gBAAA,uBAAdA,gBAAA,CAAgBH,MAAM,MAAK,GAAG,EAAE;QAC7D,MAAM,IAAIC,KAAK,CAAC,4CAA4C,CAAC;MACjE;MACA,MAAMJ,KAAK;IACf;EACJ,CAAC;EAED,MAAMO,UAAUA,CAACb,MAAc,EAAEC,MAAc,EAAqB;IAChE,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMhB,GAAG,CAACiB,GAAG,CAAC,oBAAoBH,MAAM,EAAE,EAAE;QACzDI,MAAM,EAAE;UAAEH;QAAO;MACrB,CAAC,CAAC;MACF,OAAOC,QAAQ,CAACG,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MAAA,IAAAQ,gBAAA;MACZ,IAAIjC,KAAK,CAAC2B,YAAY,CAACF,KAAK,CAAC,IAAI,EAAAQ,gBAAA,GAAAR,KAAK,CAACJ,QAAQ,cAAAY,gBAAA,uBAAdA,gBAAA,CAAgBL,MAAM,MAAK,GAAG,EAAE;QAC7D,MAAM,IAAIC,KAAK,CAAC,4CAA4C,CAAC;MACjE;MACA,MAAMJ,KAAK;IACf;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}