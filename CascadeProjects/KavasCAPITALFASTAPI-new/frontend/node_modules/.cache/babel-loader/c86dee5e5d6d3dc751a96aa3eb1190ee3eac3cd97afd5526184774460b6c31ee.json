{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000/api/v1';\n\n// Interface for API error response\n\n// Custom error class for API errors\nexport class ApiError extends Error {\n  constructor(status, message, details) {\n    super(message);\n    this.status = status;\n    this.message = message;\n    this.details = details;\n    this.name = 'ApiError';\n  }\n}\n\n// Create axios instance with default config\nconst apiClient = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json'\n  }\n});\n\n// Add request interceptor to include auth token\napiClient.interceptors.request.use(config => {\n  const token = localStorage.getItem('kite_access_token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Add response interceptor for error handling\napiClient.interceptors.response.use(response => {\n  // Log successful response\n  console.log('API Response:', {\n    status: response.status,\n    data: response.data,\n    headers: response.headers\n  });\n  return response;\n}, error => {\n  var _error$response, _error$response2, _error$response3;\n  console.error('API Error:', {\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    data: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data,\n    headers: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.headers,\n    message: error.message\n  });\n  if (error.response) {\n    var _error$response$data;\n    // Server responded with error\n    const status = error.response.status;\n    const detail = ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message;\n    let message = 'An error occurred';\n    if (status === 401) {\n      message = 'Authentication failed. Please check your access token and try again.';\n      localStorage.removeItem('kite_access_token');\n    } else if (status === 403) {\n      message = 'Access denied. Please check your permissions.';\n    } else if (status === 404) {\n      message = 'Resource not found.';\n    } else if (status >= 500) {\n      message = 'Server error. Please try again later.';\n    }\n    throw new ApiError(status, message, detail);\n  } else if (error.request) {\n    // Request made but no response\n    throw new ApiError(0, 'No response from server. Please check if the backend is running.', error.message);\n  } else {\n    // Request setup error\n    throw new ApiError(0, 'Failed to make request', error.message);\n  }\n});\nexport const marketDataApi = {\n  async getMarketData(instrumentToken, startTime, endTime, limit = 1000) {\n    try {\n      const response = await apiClient.get(`/market-data/tick/${instrumentToken}`, {\n        params: {\n          start_time: startTime,\n          end_time: endTime,\n          limit\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching market data:', error);\n      throw error;\n    }\n  },\n  async getMarketDepth(instrumentToken) {\n    try {\n      const response = await apiClient.get(`/market-data/depth/${instrumentToken}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching market depth:', error);\n      throw error;\n    }\n  },\n  async validateToken(token) {\n    try {\n      // Log token format check\n      console.log('Token validation checks:', {\n        length: token.length,\n        isAlphanumeric: /^[A-Za-z0-9]+$/.test(token),\n        firstFiveChars: token.substring(0, 5)\n      });\n\n      // Make the validation request\n      const response = await apiClient.get('/kite/validate', {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Cache-Control': 'no-cache',\n          'X-Requested-With': 'XMLHttpRequest'\n        }\n      });\n\n      // Log successful validation\n      console.log('Token validation response:', {\n        status: response.status,\n        headers: response.headers,\n        data: response.data\n      });\n      return response.data;\n    } catch (error) {\n      // Enhanced error logging\n      if (error instanceof ApiError) {\n        console.error('Token validation failed with ApiError:', {\n          status: error.status,\n          message: error.message,\n          details: error.details\n        });\n      } else if (error instanceof Error) {\n        console.error('Token validation failed with Error:', {\n          name: error.name,\n          message: error.message,\n          stack: error.stack\n        });\n      }\n\n      // Check if it's an axios error with response\n      if (axios.isAxiosError(error) && error.response) {\n        console.error('Axios error details:', {\n          status: error.response.status,\n          statusText: error.response.statusText,\n          headers: error.response.headers,\n          data: error.response.data\n        });\n      }\n      throw error;\n    }\n  },\n  async testKiteApi(token) {\n    try {\n      console.log('Testing Kite API with token:', token.substring(0, 5) + '...');\n\n      // Use path parameter instead of query parameter\n      const response = await apiClient.get(`/kite/test/${token}`, {\n        headers: {\n          'Cache-Control': 'no-cache',\n          'X-Requested-With': 'XMLHttpRequest'\n        }\n      });\n      console.log('Kite API Test Response:', {\n        status: response.status,\n        data: response.data,\n        headers: response.headers,\n        url: response.config.url\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Kite API Test Error:', error);\n      if (axios.isAxiosError(error) && error.response) {\n        var _error$config, _error$config2;\n        console.error('API Test Response Details:', {\n          status: error.response.status,\n          statusText: error.response.statusText,\n          data: error.response.data,\n          headers: error.response.headers,\n          url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n          method: (_error$config2 = error.config) === null || _error$config2 === void 0 ? void 0 : _error$config2.method\n        });\n      }\n      throw error;\n    }\n  },\n  async directTestKiteApi(token) {\n    try {\n      console.log('Testing Kite API directly with token:', token.substring(0, 5) + '...');\n\n      // Log the complete URL and request details\n      const url = `/kite/direct-test/${token}`;\n      const fullUrl = `${BASE_URL}${url}`;\n      console.log('Full URL:', fullUrl);\n      console.log('Request Headers:', apiClient.defaults.headers);\n      const response = await apiClient.get(url);\n\n      // Log the complete response for debugging\n      console.log('Direct Kite API Test Results:', {\n        status: response.status,\n        statusText: response.statusText,\n        headers: response.headers,\n        data: response.data\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Direct Kite API Test Error:', error);\n      if (axios.isAxiosError(error)) {\n        var _error$config3, _error$response4, _error$response5, _error$response6, _error$response7, _error$config4, _error$config5, _error$config6, _error$config7;\n        const requestUrl = (_error$config3 = error.config) === null || _error$config3 === void 0 ? void 0 : _error$config3.url;\n        const fullRequestUrl = requestUrl ? `${BASE_URL}${requestUrl}` : '';\n        console.error('Detailed Error Info:', {\n          status: (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status,\n          statusText: (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.statusText,\n          data: (_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data,\n          headers: (_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.headers,\n          url: (_error$config4 = error.config) === null || _error$config4 === void 0 ? void 0 : _error$config4.url,\n          baseURL: (_error$config5 = error.config) === null || _error$config5 === void 0 ? void 0 : _error$config5.baseURL,\n          method: (_error$config6 = error.config) === null || _error$config6 === void 0 ? void 0 : _error$config6.method,\n          requestHeaders: (_error$config7 = error.config) === null || _error$config7 === void 0 ? void 0 : _error$config7.headers\n        });\n\n        // Try making a direct fetch call to check CORS\n        try {\n          console.log('Attempting direct fetch to:', fullRequestUrl);\n          const fetchResponse = await fetch(fullRequestUrl);\n          console.log('Fetch Response:', {\n            status: fetchResponse.status,\n            statusText: fetchResponse.statusText,\n            headers: Object.fromEntries(fetchResponse.headers)\n          });\n        } catch (fetchError) {\n          console.error('Fetch attempt failed:', fetchError);\n        }\n      }\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["axios","BASE_URL","process","env","REACT_APP_API_URL","ApiError","Error","constructor","status","message","details","name","apiClient","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","console","log","data","_error$response","_error$response2","_error$response3","_error$response$data","detail","removeItem","marketDataApi","getMarketData","instrumentToken","startTime","endTime","limit","get","params","start_time","end_time","getMarketDepth","validateToken","length","isAlphanumeric","test","firstFiveChars","substring","stack","isAxiosError","statusText","testKiteApi","url","_error$config","_error$config2","method","directTestKiteApi","fullUrl","defaults","_error$config3","_error$response4","_error$response5","_error$response6","_error$response7","_error$config4","_error$config5","_error$config6","_error$config7","requestUrl","fullRequestUrl","requestHeaders","fetchResponse","fetch","Object","fromEntries","fetchError"],"sources":["C:/Users/inder/CascadeProjects/KavasCAPITALFASTAPI-new/frontend/src/services/api/marketDataApi.ts"],"sourcesContent":["import axios, { AxiosError } from 'axios';\nimport { MarketData, MarketDepth } from '../../types/marketData';\n\nconst BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000/api/v1';\n\n// Interface for API error response\ninterface ApiErrorResponse {\n    detail?: string;\n    message?: string;\n    status?: number;\n}\n\n// Custom error class for API errors\nexport class ApiError extends Error {\n    constructor(\n        public status: number,\n        public message: string,\n        public details?: any\n    ) {\n        super(message);\n        this.name = 'ApiError';\n    }\n}\n\n// Create axios instance with default config\nconst apiClient = axios.create({\n    baseURL: BASE_URL,\n    headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n    }\n});\n\n// Add request interceptor to include auth token\napiClient.interceptors.request.use((config) => {\n    const token = localStorage.getItem('kite_access_token');\n    if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n}, (error) => {\n    return Promise.reject(error);\n});\n\n// Add response interceptor for error handling\napiClient.interceptors.response.use(\n    (response) => {\n        // Log successful response\n        console.log('API Response:', {\n            status: response.status,\n            data: response.data,\n            headers: response.headers\n        });\n        return response;\n    },\n    (error: AxiosError<ApiErrorResponse>) => {\n        console.error('API Error:', {\n            status: error.response?.status,\n            data: error.response?.data,\n            headers: error.response?.headers,\n            message: error.message\n        });\n        \n        if (error.response) {\n            // Server responded with error\n            const status = error.response.status;\n            const detail = error.response.data?.detail || error.message;\n            \n            let message = 'An error occurred';\n            if (status === 401) {\n                message = 'Authentication failed. Please check your access token and try again.';\n                localStorage.removeItem('kite_access_token');\n            } else if (status === 403) {\n                message = 'Access denied. Please check your permissions.';\n            } else if (status === 404) {\n                message = 'Resource not found.';\n            } else if (status >= 500) {\n                message = 'Server error. Please try again later.';\n            }\n\n            throw new ApiError(status, message, detail);\n        } else if (error.request) {\n            // Request made but no response\n            throw new ApiError(0, 'No response from server. Please check if the backend is running.', error.message);\n        } else {\n            // Request setup error\n            throw new ApiError(0, 'Failed to make request', error.message);\n        }\n    }\n);\n\nexport const marketDataApi = {\n    async getMarketData(\n        instrumentToken: number,\n        startTime: string,\n        endTime: string,\n        limit: number = 1000\n    ): Promise<MarketData[]> {\n        try {\n            const response = await apiClient.get(`/market-data/tick/${instrumentToken}`, {\n                params: {\n                    start_time: startTime,\n                    end_time: endTime,\n                    limit\n                }\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Error fetching market data:', error);\n            throw error;\n        }\n    },\n\n    async getMarketDepth(instrumentToken: number): Promise<MarketDepth> {\n        try {\n            const response = await apiClient.get(`/market-data/depth/${instrumentToken}`);\n            return response.data;\n        } catch (error) {\n            console.error('Error fetching market depth:', error);\n            throw error;\n        }\n    },\n\n    async validateToken(token: string): Promise<any> {\n        try {\n            // Log token format check\n            console.log('Token validation checks:', {\n                length: token.length,\n                isAlphanumeric: /^[A-Za-z0-9]+$/.test(token),\n                firstFiveChars: token.substring(0, 5)\n            });\n\n            // Make the validation request\n            const response = await apiClient.get('/kite/validate', {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    'Cache-Control': 'no-cache',\n                    'X-Requested-With': 'XMLHttpRequest'\n                }\n            });\n\n            // Log successful validation\n            console.log('Token validation response:', {\n                status: response.status,\n                headers: response.headers,\n                data: response.data\n            });\n\n            return response.data;\n        } catch (error) {\n            // Enhanced error logging\n            if (error instanceof ApiError) {\n                console.error('Token validation failed with ApiError:', {\n                    status: error.status,\n                    message: error.message,\n                    details: error.details\n                });\n            } else if (error instanceof Error) {\n                console.error('Token validation failed with Error:', {\n                    name: error.name,\n                    message: error.message,\n                    stack: error.stack\n                });\n            }\n            \n            // Check if it's an axios error with response\n            if (axios.isAxiosError(error) && error.response) {\n                console.error('Axios error details:', {\n                    status: error.response.status,\n                    statusText: error.response.statusText,\n                    headers: error.response.headers,\n                    data: error.response.data\n                });\n            }\n\n            throw error;\n        }\n    },\n\n    async testKiteApi(token: string): Promise<any> {\n        try {\n            console.log('Testing Kite API with token:', token.substring(0, 5) + '...');\n            \n            // Use path parameter instead of query parameter\n            const response = await apiClient.get(`/kite/test/${token}`, {\n                headers: {\n                    'Cache-Control': 'no-cache',\n                    'X-Requested-With': 'XMLHttpRequest'\n                }\n            });\n            \n            console.log('Kite API Test Response:', {\n                status: response.status,\n                data: response.data,\n                headers: response.headers,\n                url: response.config.url\n            });\n            \n            return response.data;\n        } catch (error) {\n            console.error('Kite API Test Error:', error);\n            if (axios.isAxiosError(error) && error.response) {\n                console.error('API Test Response Details:', {\n                    status: error.response.status,\n                    statusText: error.response.statusText,\n                    data: error.response.data,\n                    headers: error.response.headers,\n                    url: error.config?.url,\n                    method: error.config?.method\n                });\n            }\n            throw error;\n        }\n    },\n\n    async directTestKiteApi(token: string): Promise<any> {\n        try {\n            console.log('Testing Kite API directly with token:', token.substring(0, 5) + '...');\n            \n            // Log the complete URL and request details\n            const url = `/kite/direct-test/${token}`;\n            const fullUrl = `${BASE_URL}${url}`;\n            console.log('Full URL:', fullUrl);\n            console.log('Request Headers:', apiClient.defaults.headers);\n            \n            const response = await apiClient.get(url);\n            \n            // Log the complete response for debugging\n            console.log('Direct Kite API Test Results:', {\n                status: response.status,\n                statusText: response.statusText,\n                headers: response.headers,\n                data: response.data\n            });\n            \n            return response.data;\n        } catch (error) {\n            console.error('Direct Kite API Test Error:', error);\n            if (axios.isAxiosError(error)) {\n                const requestUrl = error.config?.url;\n                const fullRequestUrl = requestUrl ? `${BASE_URL}${requestUrl}` : '';\n                \n                console.error('Detailed Error Info:', {\n                    status: error.response?.status,\n                    statusText: error.response?.statusText,\n                    data: error.response?.data,\n                    headers: error.response?.headers,\n                    url: error.config?.url,\n                    baseURL: error.config?.baseURL,\n                    method: error.config?.method,\n                    requestHeaders: error.config?.headers\n                });\n                \n                // Try making a direct fetch call to check CORS\n                try {\n                    console.log('Attempting direct fetch to:', fullRequestUrl);\n                    const fetchResponse = await fetch(fullRequestUrl);\n                    console.log('Fetch Response:', {\n                        status: fetchResponse.status,\n                        statusText: fetchResponse.statusText,\n                        headers: Object.fromEntries(fetchResponse.headers),\n                    });\n                } catch (fetchError) {\n                    console.error('Fetch attempt failed:', fetchError);\n                }\n            }\n            throw error;\n        }\n    },\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAsB,OAAO;AAGzC,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,8BAA8B;;AAEhF;;AAOA;AACA,OAAO,MAAMC,QAAQ,SAASC,KAAK,CAAC;EAChCC,WAAWA,CACAC,MAAc,EACdC,OAAe,EACfC,OAAa,EACtB;IACE,KAAK,CAACD,OAAO,CAAC;IAAC,KAJRD,MAAc,GAAdA,MAAc;IAAA,KACdC,OAAe,GAAfA,OAAe;IAAA,KACfC,OAAa,GAAbA,OAAa;IAGpB,IAAI,CAACC,IAAI,GAAG,UAAU;EAC1B;AACJ;;AAEA;AACA,MAAMC,SAAS,GAAGZ,KAAK,CAACa,MAAM,CAAC;EAC3BC,OAAO,EAAEb,QAAQ;EACjBc,OAAO,EAAE;IACL,cAAc,EAAE,kBAAkB;IAClC,QAAQ,EAAE;EACd;AACJ,CAAC,CAAC;;AAEF;AACAH,SAAS,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EAC3C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC;EACvD,IAAIF,KAAK,EAAE;IACPD,MAAM,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,KAAK,EAAE;EACpD;EACA,OAAOD,MAAM;AACjB,CAAC,EAAGK,KAAK,IAAK;EACV,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;;AAEF;AACAZ,SAAS,CAACI,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC9BS,QAAQ,IAAK;EACV;EACAC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE;IACzBrB,MAAM,EAAEmB,QAAQ,CAACnB,MAAM;IACvBsB,IAAI,EAAEH,QAAQ,CAACG,IAAI;IACnBf,OAAO,EAAEY,QAAQ,CAACZ;EACtB,CAAC,CAAC;EACF,OAAOY,QAAQ;AACnB,CAAC,EACAH,KAAmC,IAAK;EAAA,IAAAO,eAAA,EAAAC,gBAAA,EAAAC,gBAAA;EACrCL,OAAO,CAACJ,KAAK,CAAC,YAAY,EAAE;IACxBhB,MAAM,GAAAuB,eAAA,GAAEP,KAAK,CAACG,QAAQ,cAAAI,eAAA,uBAAdA,eAAA,CAAgBvB,MAAM;IAC9BsB,IAAI,GAAAE,gBAAA,GAAER,KAAK,CAACG,QAAQ,cAAAK,gBAAA,uBAAdA,gBAAA,CAAgBF,IAAI;IAC1Bf,OAAO,GAAAkB,gBAAA,GAAET,KAAK,CAACG,QAAQ,cAAAM,gBAAA,uBAAdA,gBAAA,CAAgBlB,OAAO;IAChCN,OAAO,EAAEe,KAAK,CAACf;EACnB,CAAC,CAAC;EAEF,IAAIe,KAAK,CAACG,QAAQ,EAAE;IAAA,IAAAO,oBAAA;IAChB;IACA,MAAM1B,MAAM,GAAGgB,KAAK,CAACG,QAAQ,CAACnB,MAAM;IACpC,MAAM2B,MAAM,GAAG,EAAAD,oBAAA,GAAAV,KAAK,CAACG,QAAQ,CAACG,IAAI,cAAAI,oBAAA,uBAAnBA,oBAAA,CAAqBC,MAAM,KAAIX,KAAK,CAACf,OAAO;IAE3D,IAAIA,OAAO,GAAG,mBAAmB;IACjC,IAAID,MAAM,KAAK,GAAG,EAAE;MAChBC,OAAO,GAAG,sEAAsE;MAChFY,YAAY,CAACe,UAAU,CAAC,mBAAmB,CAAC;IAChD,CAAC,MAAM,IAAI5B,MAAM,KAAK,GAAG,EAAE;MACvBC,OAAO,GAAG,+CAA+C;IAC7D,CAAC,MAAM,IAAID,MAAM,KAAK,GAAG,EAAE;MACvBC,OAAO,GAAG,qBAAqB;IACnC,CAAC,MAAM,IAAID,MAAM,IAAI,GAAG,EAAE;MACtBC,OAAO,GAAG,uCAAuC;IACrD;IAEA,MAAM,IAAIJ,QAAQ,CAACG,MAAM,EAAEC,OAAO,EAAE0B,MAAM,CAAC;EAC/C,CAAC,MAAM,IAAIX,KAAK,CAACP,OAAO,EAAE;IACtB;IACA,MAAM,IAAIZ,QAAQ,CAAC,CAAC,EAAE,kEAAkE,EAAEmB,KAAK,CAACf,OAAO,CAAC;EAC5G,CAAC,MAAM;IACH;IACA,MAAM,IAAIJ,QAAQ,CAAC,CAAC,EAAE,wBAAwB,EAAEmB,KAAK,CAACf,OAAO,CAAC;EAClE;AACJ,CACJ,CAAC;AAED,OAAO,MAAM4B,aAAa,GAAG;EACzB,MAAMC,aAAaA,CACfC,eAAuB,EACvBC,SAAiB,EACjBC,OAAe,EACfC,KAAa,GAAG,IAAI,EACC;IACrB,IAAI;MACA,MAAMf,QAAQ,GAAG,MAAMf,SAAS,CAAC+B,GAAG,CAAC,qBAAqBJ,eAAe,EAAE,EAAE;QACzEK,MAAM,EAAE;UACJC,UAAU,EAAEL,SAAS;UACrBM,QAAQ,EAAEL,OAAO;UACjBC;QACJ;MACJ,CAAC,CAAC;MACF,OAAOf,QAAQ,CAACG,IAAI;IACxB,CAAC,CAAC,OAAON,KAAK,EAAE;MACZI,OAAO,CAACJ,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnD,MAAMA,KAAK;IACf;EACJ,CAAC;EAED,MAAMuB,cAAcA,CAACR,eAAuB,EAAwB;IAChE,IAAI;MACA,MAAMZ,QAAQ,GAAG,MAAMf,SAAS,CAAC+B,GAAG,CAAC,sBAAsBJ,eAAe,EAAE,CAAC;MAC7E,OAAOZ,QAAQ,CAACG,IAAI;IACxB,CAAC,CAAC,OAAON,KAAK,EAAE;MACZI,OAAO,CAACJ,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpD,MAAMA,KAAK;IACf;EACJ,CAAC;EAED,MAAMwB,aAAaA,CAAC5B,KAAa,EAAgB;IAC7C,IAAI;MACA;MACAQ,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAE;QACpCoB,MAAM,EAAE7B,KAAK,CAAC6B,MAAM;QACpBC,cAAc,EAAE,gBAAgB,CAACC,IAAI,CAAC/B,KAAK,CAAC;QAC5CgC,cAAc,EAAEhC,KAAK,CAACiC,SAAS,CAAC,CAAC,EAAE,CAAC;MACxC,CAAC,CAAC;;MAEF;MACA,MAAM1B,QAAQ,GAAG,MAAMf,SAAS,CAAC+B,GAAG,CAAC,gBAAgB,EAAE;QACnD5B,OAAO,EAAE;UACLQ,aAAa,EAAE,UAAUH,KAAK,EAAE;UAChC,eAAe,EAAE,UAAU;UAC3B,kBAAkB,EAAE;QACxB;MACJ,CAAC,CAAC;;MAEF;MACAQ,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE;QACtCrB,MAAM,EAAEmB,QAAQ,CAACnB,MAAM;QACvBO,OAAO,EAAEY,QAAQ,CAACZ,OAAO;QACzBe,IAAI,EAAEH,QAAQ,CAACG;MACnB,CAAC,CAAC;MAEF,OAAOH,QAAQ,CAACG,IAAI;IACxB,CAAC,CAAC,OAAON,KAAK,EAAE;MACZ;MACA,IAAIA,KAAK,YAAYnB,QAAQ,EAAE;QAC3BuB,OAAO,CAACJ,KAAK,CAAC,wCAAwC,EAAE;UACpDhB,MAAM,EAAEgB,KAAK,CAAChB,MAAM;UACpBC,OAAO,EAAEe,KAAK,CAACf,OAAO;UACtBC,OAAO,EAAEc,KAAK,CAACd;QACnB,CAAC,CAAC;MACN,CAAC,MAAM,IAAIc,KAAK,YAAYlB,KAAK,EAAE;QAC/BsB,OAAO,CAACJ,KAAK,CAAC,qCAAqC,EAAE;UACjDb,IAAI,EAAEa,KAAK,CAACb,IAAI;UAChBF,OAAO,EAAEe,KAAK,CAACf,OAAO;UACtB6C,KAAK,EAAE9B,KAAK,CAAC8B;QACjB,CAAC,CAAC;MACN;;MAEA;MACA,IAAItD,KAAK,CAACuD,YAAY,CAAC/B,KAAK,CAAC,IAAIA,KAAK,CAACG,QAAQ,EAAE;QAC7CC,OAAO,CAACJ,KAAK,CAAC,sBAAsB,EAAE;UAClChB,MAAM,EAAEgB,KAAK,CAACG,QAAQ,CAACnB,MAAM;UAC7BgD,UAAU,EAAEhC,KAAK,CAACG,QAAQ,CAAC6B,UAAU;UACrCzC,OAAO,EAAES,KAAK,CAACG,QAAQ,CAACZ,OAAO;UAC/Be,IAAI,EAAEN,KAAK,CAACG,QAAQ,CAACG;QACzB,CAAC,CAAC;MACN;MAEA,MAAMN,KAAK;IACf;EACJ,CAAC;EAED,MAAMiC,WAAWA,CAACrC,KAAa,EAAgB;IAC3C,IAAI;MACAQ,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAET,KAAK,CAACiC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC;;MAE1E;MACA,MAAM1B,QAAQ,GAAG,MAAMf,SAAS,CAAC+B,GAAG,CAAC,cAAcvB,KAAK,EAAE,EAAE;QACxDL,OAAO,EAAE;UACL,eAAe,EAAE,UAAU;UAC3B,kBAAkB,EAAE;QACxB;MACJ,CAAC,CAAC;MAEFa,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAE;QACnCrB,MAAM,EAAEmB,QAAQ,CAACnB,MAAM;QACvBsB,IAAI,EAAEH,QAAQ,CAACG,IAAI;QACnBf,OAAO,EAAEY,QAAQ,CAACZ,OAAO;QACzB2C,GAAG,EAAE/B,QAAQ,CAACR,MAAM,CAACuC;MACzB,CAAC,CAAC;MAEF,OAAO/B,QAAQ,CAACG,IAAI;IACxB,CAAC,CAAC,OAAON,KAAK,EAAE;MACZI,OAAO,CAACJ,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C,IAAIxB,KAAK,CAACuD,YAAY,CAAC/B,KAAK,CAAC,IAAIA,KAAK,CAACG,QAAQ,EAAE;QAAA,IAAAgC,aAAA,EAAAC,cAAA;QAC7ChC,OAAO,CAACJ,KAAK,CAAC,4BAA4B,EAAE;UACxChB,MAAM,EAAEgB,KAAK,CAACG,QAAQ,CAACnB,MAAM;UAC7BgD,UAAU,EAAEhC,KAAK,CAACG,QAAQ,CAAC6B,UAAU;UACrC1B,IAAI,EAAEN,KAAK,CAACG,QAAQ,CAACG,IAAI;UACzBf,OAAO,EAAES,KAAK,CAACG,QAAQ,CAACZ,OAAO;UAC/B2C,GAAG,GAAAC,aAAA,GAAEnC,KAAK,CAACL,MAAM,cAAAwC,aAAA,uBAAZA,aAAA,CAAcD,GAAG;UACtBG,MAAM,GAAAD,cAAA,GAAEpC,KAAK,CAACL,MAAM,cAAAyC,cAAA,uBAAZA,cAAA,CAAcC;QAC1B,CAAC,CAAC;MACN;MACA,MAAMrC,KAAK;IACf;EACJ,CAAC;EAED,MAAMsC,iBAAiBA,CAAC1C,KAAa,EAAgB;IACjD,IAAI;MACAQ,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAET,KAAK,CAACiC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC;;MAEnF;MACA,MAAMK,GAAG,GAAG,qBAAqBtC,KAAK,EAAE;MACxC,MAAM2C,OAAO,GAAG,GAAG9D,QAAQ,GAAGyD,GAAG,EAAE;MACnC9B,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEkC,OAAO,CAAC;MACjCnC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEjB,SAAS,CAACoD,QAAQ,CAACjD,OAAO,CAAC;MAE3D,MAAMY,QAAQ,GAAG,MAAMf,SAAS,CAAC+B,GAAG,CAACe,GAAG,CAAC;;MAEzC;MACA9B,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAE;QACzCrB,MAAM,EAAEmB,QAAQ,CAACnB,MAAM;QACvBgD,UAAU,EAAE7B,QAAQ,CAAC6B,UAAU;QAC/BzC,OAAO,EAAEY,QAAQ,CAACZ,OAAO;QACzBe,IAAI,EAAEH,QAAQ,CAACG;MACnB,CAAC,CAAC;MAEF,OAAOH,QAAQ,CAACG,IAAI;IACxB,CAAC,CAAC,OAAON,KAAK,EAAE;MACZI,OAAO,CAACJ,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnD,IAAIxB,KAAK,CAACuD,YAAY,CAAC/B,KAAK,CAAC,EAAE;QAAA,IAAAyC,cAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,cAAA,EAAAC,cAAA,EAAAC,cAAA,EAAAC,cAAA;QAC3B,MAAMC,UAAU,IAAAT,cAAA,GAAGzC,KAAK,CAACL,MAAM,cAAA8C,cAAA,uBAAZA,cAAA,CAAcP,GAAG;QACpC,MAAMiB,cAAc,GAAGD,UAAU,GAAG,GAAGzE,QAAQ,GAAGyE,UAAU,EAAE,GAAG,EAAE;QAEnE9C,OAAO,CAACJ,KAAK,CAAC,sBAAsB,EAAE;UAClChB,MAAM,GAAA0D,gBAAA,GAAE1C,KAAK,CAACG,QAAQ,cAAAuC,gBAAA,uBAAdA,gBAAA,CAAgB1D,MAAM;UAC9BgD,UAAU,GAAAW,gBAAA,GAAE3C,KAAK,CAACG,QAAQ,cAAAwC,gBAAA,uBAAdA,gBAAA,CAAgBX,UAAU;UACtC1B,IAAI,GAAAsC,gBAAA,GAAE5C,KAAK,CAACG,QAAQ,cAAAyC,gBAAA,uBAAdA,gBAAA,CAAgBtC,IAAI;UAC1Bf,OAAO,GAAAsD,gBAAA,GAAE7C,KAAK,CAACG,QAAQ,cAAA0C,gBAAA,uBAAdA,gBAAA,CAAgBtD,OAAO;UAChC2C,GAAG,GAAAY,cAAA,GAAE9C,KAAK,CAACL,MAAM,cAAAmD,cAAA,uBAAZA,cAAA,CAAcZ,GAAG;UACtB5C,OAAO,GAAAyD,cAAA,GAAE/C,KAAK,CAACL,MAAM,cAAAoD,cAAA,uBAAZA,cAAA,CAAczD,OAAO;UAC9B+C,MAAM,GAAAW,cAAA,GAAEhD,KAAK,CAACL,MAAM,cAAAqD,cAAA,uBAAZA,cAAA,CAAcX,MAAM;UAC5Be,cAAc,GAAAH,cAAA,GAAEjD,KAAK,CAACL,MAAM,cAAAsD,cAAA,uBAAZA,cAAA,CAAc1D;QAClC,CAAC,CAAC;;QAEF;QACA,IAAI;UACAa,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAE8C,cAAc,CAAC;UAC1D,MAAME,aAAa,GAAG,MAAMC,KAAK,CAACH,cAAc,CAAC;UACjD/C,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE;YAC3BrB,MAAM,EAAEqE,aAAa,CAACrE,MAAM;YAC5BgD,UAAU,EAAEqB,aAAa,CAACrB,UAAU;YACpCzC,OAAO,EAAEgE,MAAM,CAACC,WAAW,CAACH,aAAa,CAAC9D,OAAO;UACrD,CAAC,CAAC;QACN,CAAC,CAAC,OAAOkE,UAAU,EAAE;UACjBrD,OAAO,CAACJ,KAAK,CAAC,uBAAuB,EAAEyD,UAAU,CAAC;QACtD;MACJ;MACA,MAAMzD,KAAK;IACf;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}