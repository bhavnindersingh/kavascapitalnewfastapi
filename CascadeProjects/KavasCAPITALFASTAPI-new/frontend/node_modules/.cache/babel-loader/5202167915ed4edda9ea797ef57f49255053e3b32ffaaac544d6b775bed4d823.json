{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\inder\\\\CascadeProjects\\\\KavasCAPITALFASTAPI-new\\\\frontend\\\\src\\\\components\\\\Auth\\\\AccessTokenInput.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { TextField, Button, Box, Typography, Alert, Stepper, Step, StepLabel, Link, Paper, CircularProgress, Snackbar } from '@mui/material';\nimport { setAccessToken, setError, setLoading } from '../../store/slices/authSlice';\nimport { kiteApi } from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst steps = ['Visit Kite Developer', 'Create an App', 'Get Access Token'];\nexport const AccessTokenInput = () => {\n  _s();\n  const [token, setToken] = useState('');\n  const [validationError, setValidationError] = useState(null);\n  const dispatch = useDispatch();\n  const {\n    error: authError,\n    loading: authLoading\n  } = useSelector(state => state.auth);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!token.trim()) {\n      setValidationError('Please enter an access token');\n      return;\n    }\n    dispatch(setLoading(true));\n    try {\n      await kiteApi.validateToken(token);\n      dispatch(setAccessToken(token));\n      setValidationError(null);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Token validation failed:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'Failed to validate token';\n      setValidationError(errorMessage);\n      dispatch(setError(errorMessage));\n    } finally {\n      dispatch(setLoading(false));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    sx: {\n      p: 3,\n      maxWidth: 600,\n      mx: 'auto',\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      color: \"primary\",\n      children: \"Kite Access Token Setup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Stepper, {\n      activeStep: 2,\n      alternativeLabel: true,\n      sx: {\n        mb: 4\n      },\n      children: steps.map(label => /*#__PURE__*/_jsxDEV(Step, {\n        children: /*#__PURE__*/_jsxDEV(StepLabel, {\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)\n      }, label, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        paragraph: true,\n        children: \"To get your access token:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            children: [\"Visit\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n              href: \"https://developers.kite.trade/\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: \"Kite Developer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Create an app in the developer console\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Generate and copy your access token\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Access Token\",\n        variant: \"outlined\",\n        value: token,\n        onChange: e => setToken(e.target.value),\n        error: !!validationError || !!authError,\n        helperText: validationError || authError,\n        sx: {\n          mb: 2\n        },\n        disabled: authLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        fullWidth: true,\n        disabled: authLoading,\n        children: authLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24,\n          color: \"inherit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this) : 'Validate Token'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!authError,\n      autoHideDuration: 6000,\n      onClose: () => dispatch(setError(null)),\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        onClose: () => dispatch(setError(null)),\n        children: authError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(AccessTokenInput, \"f++U10l4yCeaje3IU2UAIO0jdwU=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = AccessTokenInput;\nvar _c;\n$RefreshReg$(_c, \"AccessTokenInput\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","TextField","Button","Box","Typography","Alert","Stepper","Step","StepLabel","Link","Paper","CircularProgress","Snackbar","setAccessToken","setError","setLoading","kiteApi","jsxDEV","_jsxDEV","steps","AccessTokenInput","_s","token","setToken","validationError","setValidationError","dispatch","error","authError","loading","authLoading","state","auth","handleSubmit","e","preventDefault","trim","validateToken","_error$response","_error$response$data","console","errorMessage","response","data","detail","elevation","sx","p","maxWidth","mx","mt","children","variant","gutterBottom","color","fileName","_jsxFileName","lineNumber","columnNumber","activeStep","alternativeLabel","mb","map","label","paragraph","href","target","rel","onSubmit","fullWidth","value","onChange","helperText","disabled","type","size","open","autoHideDuration","onClose","severity","_c","$RefreshReg$"],"sources":["C:/Users/inder/CascadeProjects/KavasCAPITALFASTAPI-new/frontend/src/components/Auth/AccessTokenInput.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  TextField,\n  Button,\n  Box,\n  Typography,\n  Alert,\n  Stepper,\n  Step,\n  StepLabel,\n  Link,\n  Paper,\n  CircularProgress,\n  Snackbar\n} from '@mui/material';\nimport { setAccessToken, setError, setLoading } from '../../store/slices/authSlice';\nimport { kiteApi } from '../../services/api';\nimport type { RootState } from '../../store';\n\nconst steps = [\n  'Visit Kite Developer',\n  'Create an App',\n  'Get Access Token'\n];\n\nexport const AccessTokenInput: React.FC = () => {\n  const [token, setToken] = useState('');\n  const [validationError, setValidationError] = useState<string | null>(null);\n  const dispatch = useDispatch();\n  const { error: authError, loading: authLoading } = useSelector((state: RootState) => state.auth);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!token.trim()) {\n      setValidationError('Please enter an access token');\n      return;\n    }\n\n    dispatch(setLoading(true));\n    try {\n      await kiteApi.validateToken(token);\n      dispatch(setAccessToken(token));\n      setValidationError(null);\n    } catch (error: any) {\n      console.error('Token validation failed:', error);\n      const errorMessage = error.response?.data?.detail || 'Failed to validate token';\n      setValidationError(errorMessage);\n      dispatch(setError(errorMessage));\n    } finally {\n      dispatch(setLoading(false));\n    }\n  };\n\n  return (\n    <Paper elevation={3} sx={{ p: 3, maxWidth: 600, mx: 'auto', mt: 4 }}>\n      <Typography variant=\"h5\" gutterBottom color=\"primary\">\n        Kite Access Token Setup\n      </Typography>\n\n      <Stepper activeStep={2} alternativeLabel sx={{ mb: 4 }}>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n\n      <Box sx={{ mb: 3 }}>\n        <Typography variant=\"body1\" paragraph>\n          To get your access token:\n        </Typography>\n        <ol>\n          <li>\n            <Typography>\n              Visit{' '}\n              <Link\n                href=\"https://developers.kite.trade/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Kite Developer\n              </Link>\n            </Typography>\n          </li>\n          <li>\n            <Typography>Create an app in the developer console</Typography>\n          </li>\n          <li>\n            <Typography>Generate and copy your access token</Typography>\n          </li>\n        </ol>\n      </Box>\n\n      <form onSubmit={handleSubmit}>\n        <TextField\n          fullWidth\n          label=\"Access Token\"\n          variant=\"outlined\"\n          value={token}\n          onChange={(e) => setToken(e.target.value)}\n          error={!!validationError || !!authError}\n          helperText={validationError || authError}\n          sx={{ mb: 2 }}\n          disabled={authLoading}\n        />\n        \n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          color=\"primary\"\n          fullWidth\n          disabled={authLoading}\n        >\n          {authLoading ? (\n            <CircularProgress size={24} color=\"inherit\" />\n          ) : (\n            'Validate Token'\n          )}\n        </Button>\n      </form>\n\n      <Snackbar \n        open={!!authError} \n        autoHideDuration={6000} \n        onClose={() => dispatch(setError(null))}\n      >\n        <Alert severity=\"error\" onClose={() => dispatch(setError(null))}>\n          {authError}\n        </Alert>\n      </Snackbar>\n    </Paper>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}