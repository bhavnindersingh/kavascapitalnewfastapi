{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\inder\\\\CascadeProjects\\\\KavasCAPITALFASTAPI-new\\\\frontend\\\\src\\\\components\\\\Auth\\\\AccessTokenInput.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { TextField, Button, Box, Typography, Alert, Stepper, Step, StepLabel, Link, Paper, CircularProgress, Snackbar } from '@mui/material';\nimport { setAccessToken, setError, setLoading } from '../../store/slices/authSlice';\nimport { kiteApi } from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst steps = ['Visit Kite Developer', 'Create an App', 'Get Access Token'];\nexport const AccessTokenInput = () => {\n  _s();\n  const [token, setToken] = useState('');\n  const [validationError, setValidationError] = useState(null);\n  const dispatch = useDispatch();\n  const {\n    error: authError,\n    loading: authLoading\n  } = useSelector(state => state.auth);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!token.trim()) {\n      setValidationError('Please enter an access token');\n      return;\n    }\n    dispatch(setLoading(true));\n    try {\n      await kiteApi.validateToken(token);\n      dispatch(setAccessToken(token));\n      setValidationError(null);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Token validation failed:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'Failed to validate token';\n      setValidationError(errorMessage);\n      dispatch(setError(errorMessage));\n    } finally {\n      dispatch(setLoading(false));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    sx: {\n      p: 3,\n      maxWidth: 600,\n      mx: 'auto',\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      color: \"primary\",\n      children: \"Kite Access Token Setup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Stepper, {\n      activeStep: 2,\n      alternativeLabel: true,\n      sx: {\n        mb: 4\n      },\n      children: steps.map(label => /*#__PURE__*/_jsxDEV(Step, {\n        children: /*#__PURE__*/_jsxDEV(StepLabel, {\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)\n      }, label, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        paragraph: true,\n        children: \"To get your access token:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            children: [\"Visit\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n              href: \"https://developers.kite.trade/\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: \"Kite Developer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Create an app in the developer console\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Generate and copy your access token\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Access Token\",\n        variant: \"outlined\",\n        value: token,\n        onChange: e => setToken(e.target.value),\n        error: !!validationError,\n        helperText: validationError,\n        sx: {\n          mb: 2\n        },\n        disabled: authLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        fullWidth: true,\n        disabled: authLoading,\n        children: authLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 26\n        }, this) : 'Validate Token'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!authError,\n      autoHideDuration: 6000,\n      onClose: () => dispatch(setError(null)),\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        onClose: () => dispatch(setError(null)),\n        children: authError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(AccessTokenInput, \"f++U10l4yCeaje3IU2UAIO0jdwU=\", true, function () {\n  return [useDispatch];\n});\n_c = AccessTokenInput;\nvar _c;\n$RefreshReg$(_c, \"AccessTokenInput\");","map":{"version":3,"names":["React","useState","useDispatch","TextField","Button","Box","Typography","Alert","Stepper","Step","StepLabel","Link","Paper","CircularProgress","Snackbar","setAccessToken","setError","setLoading","kiteApi","jsxDEV","_jsxDEV","steps","AccessTokenInput","_s","token","setToken","validationError","setValidationError","dispatch","error","authError","loading","authLoading","useSelector","state","auth","handleSubmit","e","preventDefault","trim","validateToken","_error$response","_error$response$data","console","errorMessage","response","data","detail","elevation","sx","p","maxWidth","mx","mt","children","variant","gutterBottom","color","fileName","_jsxFileName","lineNumber","columnNumber","activeStep","alternativeLabel","mb","map","label","paragraph","href","target","rel","onSubmit","fullWidth","value","onChange","helperText","disabled","type","size","open","autoHideDuration","onClose","severity","_c","$RefreshReg$"],"sources":["C:/Users/inder/CascadeProjects/KavasCAPITALFASTAPI-new/frontend/src/components/Auth/AccessTokenInput.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  TextField,\n  Button,\n  Box,\n  Typography,\n  Alert,\n  Stepper,\n  Step,\n  StepLabel,\n  Link,\n  Paper,\n  CircularProgress,\n  Snackbar\n} from '@mui/material';\nimport { setAccessToken, setError, setLoading } from '../../store/slices/authSlice';\nimport { kiteApi } from '../../services/api';\n\nconst steps = [\n  'Visit Kite Developer',\n  'Create an App',\n  'Get Access Token'\n];\n\nexport const AccessTokenInput: React.FC = () => {\n  const [token, setToken] = useState('');\n  const [validationError, setValidationError] = useState<string | null>(null);\n  const dispatch = useDispatch();\n  const { error: authError, loading: authLoading } = useSelector((state: RootState) => state.auth);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!token.trim()) {\n      setValidationError('Please enter an access token');\n      return;\n    }\n\n    dispatch(setLoading(true));\n    try {\n      await kiteApi.validateToken(token);\n      dispatch(setAccessToken(token));\n      setValidationError(null);\n    } catch (error: any) {\n      console.error('Token validation failed:', error);\n      const errorMessage = error.response?.data?.detail || 'Failed to validate token';\n      setValidationError(errorMessage);\n      dispatch(setError(errorMessage));\n    } finally {\n      dispatch(setLoading(false));\n    }\n  };\n\n  return (\n    <Paper elevation={3} sx={{ p: 3, maxWidth: 600, mx: 'auto', mt: 4 }}>\n      <Typography variant=\"h5\" gutterBottom color=\"primary\">\n        Kite Access Token Setup\n      </Typography>\n\n      <Stepper activeStep={2} alternativeLabel sx={{ mb: 4 }}>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n\n      <Box sx={{ mb: 3 }}>\n        <Typography variant=\"body1\" paragraph>\n          To get your access token:\n        </Typography>\n        <ol>\n          <li>\n            <Typography>\n              Visit{' '}\n              <Link\n                href=\"https://developers.kite.trade/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Kite Developer\n              </Link>\n            </Typography>\n          </li>\n          <li>\n            <Typography>Create an app in the developer console</Typography>\n          </li>\n          <li>\n            <Typography>Generate and copy your access token</Typography>\n          </li>\n        </ol>\n      </Box>\n\n      <form onSubmit={handleSubmit}>\n        <TextField\n          fullWidth\n          label=\"Access Token\"\n          variant=\"outlined\"\n          value={token}\n          onChange={(e) => setToken(e.target.value)}\n          error={!!validationError}\n          helperText={validationError}\n          sx={{ mb: 2 }}\n          disabled={authLoading}\n        />\n        \n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          color=\"primary\"\n          fullWidth\n          disabled={authLoading}\n        >\n          {authLoading ? <CircularProgress size={24} /> : 'Validate Token'}\n        </Button>\n      </form>\n\n      <Snackbar \n        open={!!authError} \n        autoHideDuration={6000} \n        onClose={() => dispatch(setError(null))}\n      >\n        <Alert severity=\"error\" onClose={() => dispatch(setError(null))}>\n          {authError}\n        </Alert>\n      </Snackbar>\n    </Paper>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}